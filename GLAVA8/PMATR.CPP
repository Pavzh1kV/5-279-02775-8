/* ВЫЧИСЛЕНИЕ ПУТЕВОЙ МАТРИЦЫ ПО ЗАДАННОЙ МАТРИЦЕ СМЕЖНОСТИ */
/* \pmatr.cpp */
#include <stdio.h>
#include <locale.h>
#include <stdlib.h>
//#include <conio.h>
void pm(int A[][5], int P[][5], int n);
/* ======================================================== */
int main()
{
    setlocale(LC_ALL,"Russian");
    int i, j, n;
    int A[5][5] = { 0, 0, 0, 1, 0,
                    1, 0, 1, 0, 0,
                    0, 0, 0, 0, 1,
                    0, 0, 1, 0, 1,
                    0, 0, 0, 0, 0
                  };
    int P[5][5];
    n = 5;
    printf
    ("\n\n Вычисление путевой матрицы по матрице смежности");
    printf("\n Матрица смежности:");
    for (i = 0; i < n; i++)
    {
        printf("\n");
        for (j = 0; j < n; j++)
            printf("%4d", A[i][j]);
    }
    /* Вычисление путевой матрицы */
    pm(A, P, n);
    printf("\n Путевая матрица:");
    for (i = 0; i < n; i++)
    {
        printf("\n");
        for (j = 0; j < n; j++)
            printf("%4d", P[i][j]);
    }
    printf("\n");
    getchar();
    return 0;
}

/* ================================================= */
/*  ФУНКЦИЯ ВЫЧИСЛЕНИЯ ПУТЕВОЙ МАТРИЦЫ
	 ПО ЗАДАННОЙ МАТРИЦЕ СМЕЖНОСТИ */
void pm(int A[][5], int P[][5], int n)
{
    int i, j, k;
    for (i = 0; i < n; i++)
        for (j = 0; j < n; j++)
            P[i][j] = A[i][j];
    for (k = 0; k < n; k++)
        for (i = 0; i < n; i++)
            for (j = 0; j < n; j++)
                P[i][j] = P[i][j] || (P[i][k] && P[k][j]);
}

/* ******************************************************** */
