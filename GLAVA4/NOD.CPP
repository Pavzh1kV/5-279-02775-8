/* ******************************************************* */
/* Нахождение наибольшего общего делителя двух целых чисел */
/* \nod.cpp  */
#include <stdio.h>
#include <locale.h>
#include <stdlib.h>
//#include <conio.h>
/* ========================================= */
/* ФУНКЦИЯ НАХОЖДЕНИЯ НОД целых чисел А и В */
/* Результат - возвращаемое значение, если
	задан неверный операнд, то возвращается -1 */
int Nod(int A, int B)
{
    int op1, op2, ost;
    if ((A < 0) || (B <= 0))	/* проверка операндов */
        return -1;		/* ошибка в операндах */
    if (A >= B)
    {
        op1 = A;
        op2 = B;
    }
    else
    {
        op1 = B;
        op2 = A;
    }
    while (ost = op1 % op2)
    {
        op1 = op2;
        op2 = ost;
    }
    return op2;
}

/* ========================================== */
/* ГЛАВНАЯ ФУНКЦИЯ */
main()
{
    setlocale(LC_ALL,"Russian");
    int a, b, r;
    printf
    ("\nНахождение наибольшего общего делителя двух целых чисел");
    while (1)
    {
        printf
        ("\nВведите два целых числа или нуль для завершения работы\n");
        printf("=>");
        fflush(NULL);
        scanf("%d", &a);
        if (a == 0)
            break;
        scanf("%d", &b);
        r = Nod(a, b);
        if (r < 0)
        {
            printf
            ("ОШИБКА в операндах, повторите!");
            continue;
        }
        printf("\nНОД чисел %d и %d равен %d", a, b, r);
        getchar();
    }
    printf("\nКонец работы");
    getchar();
}

/* *********************************************************************** */
